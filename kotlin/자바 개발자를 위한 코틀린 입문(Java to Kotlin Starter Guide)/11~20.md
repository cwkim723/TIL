## 11강) 코틀린에서 접근 제어를 다루는 방법

- 자바: public, protected, default, private
1. 자바와 코틀린의 가시성 제어
    
    **자바**
    
    | public | 모든 곳에서 접근 가능 |
    | --- | --- |
    | protected | 같은 패키지 또는 하위 클래스에서만 접근 가능 |
    | default | 같은 패키지에서만 접근 가능 |
    | private | 선언된 클래스내에서만 접근 가능 |
    - 자바의 기본 접근 지시어는 **default**
    
    **코틀린**
    
    | public | 모든 곳에서 접근 가능 |
    | --- | --- |
    | protected | 선언된 클래스 또는 하위 클래스에서만 접근 가능 |
    | internal | 같은 모듈에서만 접근 가능 |
    | private | 선언된 클래스 내에서만 접근 가능 |
    - 코틀린에서 패키지는 namespace를 관리하기 위한 용도로만 사용, 가시성 제어(소통 가능 범위)에는 사용 X
    - 모듈: 한 번에 컴파일되는 코틀린 코드
        - 하위 모듈에 있는 것들을 상위 모듈에서 호출 불가
    - 코틀린의 기본 접근 지시어는 **public**
    
2. 코틀린 파일의 접근 제어
    - 코틀린은 .kt 파일에 변수, 함수, 클래스 여러 개를 만들 수 있음
        
        ```kotlin
        val a = 3
        
        fun add(a: Int, b: Int): Int {
        	return a + b
        }
        
        class Cat()
        ```
        
        | public | 기본값, 어디서든 접근 가능 |
        | --- | --- |
        | protected | 파일(최상단)에는 사용 불가 |
        | internal | 같은 모듈에서만 접근 가능 |
        | private | 같은 파일 내에서만 접근 가능 |
3. 다양한 구성요소의 접근 제어
    
    **클래스 안의 멤버**
    
    | public | 모든 곳에서 접근 가능 |
    | --- | --- |
    | protected | 선언된 클래스 또는 하위 클래스에서만 접근 가능 |
    | internal | 같은 모듈에서만 접근 가능 |
    | private | 선언된 클래스 내에서만 접근 가능 |
    
    **생성자**
    
    - 클래스와 가시성 범위 동일
    
    ```kotlin
    class Bus internal constructor (
    	val price: Int
    )
    ```
    
    - 생성자에 접근 지시어 붙이려면 **constructor** 사용
    
    **유틸성 코드**
    
    - 자바
        
        ```java
        public abstract class StringUtils {
        	private StringUtils() {}
        
        	public boolean isDirectoryPath(String path) {
        		return path.endsWith("/");
        	}
        }
        ```
        
        - 자바에서 유틸성 코드 생성 시 abstract class + private constructor를 사용해 인스턴스화 막음
        
    - 코틀린
        
        ```kotlin
        fun isDirectory(path: String): Boolean {
        	return path.endsWith("/")
        }
        ```
        
    
    **프로퍼티**
    
    - 가시성 동일
    - 프로퍼티의 가시성을 제어하는 법
        
        ```kotlin
        class Car(
        	internal val name: String,
        	_price: Int
        ) {
        	
        	var price = _price
        		private set
        
        }
        ```
        
        1. getter, setter 한 번에 접근 지시어 지정
            
            ```kotlin
            class Car(
            	**internal** val name: String,
            	_price: Int
            )
            ```
            
        2. setter에만 추가로 가시성 부여 가능
            
            ```kotlin
            {
            	var price = _price
            		**private** set
            }
            ```
            
    
4. 자바와 코틀린을 함께 사용할 경우 주의할 점
    - `Internal`은 바이트 코드 상 `public`이 됨 → 자바 코드에서는 코틀린 모듈의 `Internal` 코드를 가져올 수 있음
    - 코틀린의 `protected`와 자바의 `protected`는 다름
        - 자바는 같은 패키지의 코틀린 `protected` 멤버에 접근 가능
